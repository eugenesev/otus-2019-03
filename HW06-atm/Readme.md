# OTUS Java Homework 6
## Эмулятор банкомата

**Задание**

Объект класса АТМ должен уметь:
- принимать банкноты разных номиналов (на каждый номинал должна быть своя ячейка)
- выдавать запрошенную сумму минимальным количеством банкнот или ошибку если сумму нельзя выдать
Это задание не на алгоритмы, а на проектирование.
Поэтому оптимизировать выдачу не надо.
- выдавать сумму остатка денежных средств

# OTUS Java Homework 7
## Департамент ATM

**Задание**

Написать приложение ATM Департамент:
- Департамент может содержать несколько ATM.
- Департамент может собирать сумму остатков со всех ATM.
- Департамент может инициировать событие – восстановить состояние всех
ATM до начального (начальные состояния у разных ATM могут быть
разными).

[![Структура проекта в IDEA](https://github.com/eugenesev/otus-2019-03/blob/master/img/HW-6.png)](https://github.com/eugenesev/otus-2019-03/tree/master/HW06-atm)

Номиналы купюр и их названия хранятся в enum классе *ru.otus.hw06.money.**Notes***.

Класс ru.otus.hw06.money.**CashBox** является моделью пачки купюр и содержит методы для установки номиналов купюр и их количества, хранящихся в пачке, а также подсчитывается конечная в ней сумма денег. Для создания экземпляра класса CashBox используется паттерн **BUILDER**. Этот класс является родительским для классов **ATMCashBox** и **ConsumerCashBundle**, которые выполняют функцию купюроприемника банкомата и пачки денег полученной или внесенной пользователем в банкомат. ATMCashBox имеет функционал приема и выдачи купюр реализованный во внутренних классах Debit и Credit соответственно.

Класс ru.otus.hw06.atm.**ATMImpl** реализует интерфейс **ATM** основным методом которого является `void choiceOperation(Operation operation)` предлогающий пользователю банкомата выбрать одну из следующих операций:
- просмотр баланса (ru.otus.hw06.operations.**Balance**);
- внесение наличных (ru.otus.hw06.operations.**Deposit**);
- получение денег (ru.otus.hw06.operations.**Withdraw**).

Департамент *ru.otus.hw06.department.**Department*** имплементирует методы интерфейса *ru.otus.hw06.department.**ATMDepartment***, функционал которого заключается в инициализации банкоматов, сброс их состояния в исходное и подсчета суммы всех средств в банкоматах.
Объединение банкоматов (объектов класса ATMImpl) происходит с применением паттерна **Chain of responsibility**. Для этого был добавлен интерфейс **ATMChain**, методы которого реализованны в классе ATMImpl. 
Классы *ru.otus.hw06.money.**ATMCashBoxCaretaker*** и *ru.otus.hw06.money.**Memento*** отвечают за возможность сохранения и сброса состояния банкомата при выполнении операции снятия или внесения наличных, а также сброса всех банкоматов в исходное состояние.